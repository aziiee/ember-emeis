<EditForm
  @model={{@model}}
  @updateModel={{this.updateModel}}
  @listViewRouteName="scopes.index"
>
  <EditForm::Element @label={{t "emeis.scopes.headings.name"}}>
    <input
      class="uk-input"
      type="text"
      name="name"
      placeholder="{{t "emeis.scopes.headings.name"}}..."
      required
      value={{@model.name}}
    />
  </EditForm::Element>

  <EditForm::Element @label={{t "emeis.scopes.headings.description"}}>
    <textarea
      class="uk-textarea"
      rows="5"
      name="description"
      placeholder="{{t "emeis.scopes.headings.description"}}..."
      value={{@model.description}}
    ></textarea>
  </EditForm::Element>

  <EditForm::Element @label={{t "emeis.scopes.headings.parent"}}>
    <RelationshipSelect
      @modelName="scope"
      @selected={{@model.parent}}
      @placeholder="{{t "emeis.scopes.headings.parent"}}..."
      @onChange={{set @model.parent}} as |scope|
    >
      {{scope.name}}
    </RelationshipSelect>
  </EditForm::Element>

  {{#each this.metaFields as |field|}}
    {{#if field.visible}}
      <EditForm::Element @label={{get field.label this.intl.primaryLocale}}>
        {{#if (eq field.type "choice")}}
          <PowerSelect
            @disabled={{field.readOnly}}
            @options={{field.options}}
            @selected={{find-by "value" (get @model.meta field.slug) field.options}}
            @onChange={{fn this.updateMetaField field @model}}
            @placeholder={{concat (get field.label this.intl.primaryLocale) "..."}}
            as |option|
          >
            {{get option.label this.intl.primaryLocale}}
          </PowerSelect>
        {{else}}
          <input
            class="uk-input"
            type="text"
            value={{get @model.meta field.slug}}
            disabled={{field.readOnly}}
            {{on "input" (fn this.updateMetaField field @model)}}
          >
        {{/if}}
      </EditForm::Element>
    {{/if}}
  {{/each}}
</EditForm>