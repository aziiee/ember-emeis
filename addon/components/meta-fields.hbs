{{#each @fields as |field|}}
  {{#if field.visible}}
    <EditForm::Element @label={{get field.label this.intl.primaryLocale}}>
      {{#if (eq field.type "choice")}}
        <PowerSelect
          @disabled={{field.readOnly}}
          @options={{field.options}}
          @selected={{find-by "value" (get @model.meta field.slug) field.options}}
          @onChange={{fn this.updateMetaField field @model}}
          @placeholder={{concat (get field.label this.intl.primaryLocale) "..."}}
          @allowClear={{true}}
          as |option|
        >
          {{get option.label this.intl.primaryLocale}}
        </PowerSelect>
      {{/if}}
      {{#if (eq field.type "text")}}
        <input
          data-test-meta-field-text
          class="uk-input"
          type="text"
          value={{get @model.meta field.slug}}
          disabled={{field.readOnly}}
          {{on "input" (fn this.updateMetaField field @model)}}
        >
      {{/if}}
    </EditForm::Element>
  {{/if}}
{{/each}}
